{"version":3,"sources":["components/Blog.js","services/login.js","services/blogs.js","reducer/loggedUserReducer.js","components/LoginForm.js","components/addForm.js","components/Togglable.js","components/Users.js","components/User.js","reducer/blogReducer.js","components/singleBlog.js","services/users.js","components/CreateAccount.js","reducer/usersReducer.js","App.js","store.js","index.js"],"names":["Blog","blogs","useSelector","state","sort","a","b","likes","length","active","paragraph","rows","itemLayout","dataSource","renderItem","item","Item","Meta","title","to","id","style","marginLeft","fontSize","color","description","LikeOutlined","login","newObjcet","axios","post","response","data","baseUrl","token","create","config","headers","Authorization","updateBlog","blog","header","patch","removeBlog","delete","makeComment","comment","getAll","get","then","setToken","newToken","setLoggedUser","user","type","loggedUserReducer","action","LoginForm","props","dispatch","useDispatch","useState","username","setUsersname","password","setPassword","handleLogin","loginService","window","localStorage","setItem","JSON","stringify","blogService","message","success","location","replace","error","display","justifyContent","alignItems","width","initialValues","remember","onFinish","margin","name","rules","required","prefix","UserOutlined","placeholder","onChange","target","value","LockOutlined","htmlType","backgroundColor","borderColor","onClick","setModalState","TextArea","Input","AddForm","createBlog","setTitle","author","setAuthor","url","setUrl","EditOutlined","allowClear","showCount","autoSize","minRows","Togglable","visible","setVisible","hideWhenVisible","showWhenVisible","toggleVisibility","buttonLabel","children","Users","users","forEach","x","count","columns","dataIndex","render","text","filter","textAlign","User","deleteBlog","blogReducer","map","SingleBlog","handleLikes","handleRemoving","loggedUser","useParams","find","setComment","offsetTop","document","body","scrollTop","documentElement","bodyStyle","whiteSpace","extra","marginRight","marginTop","onConfirm","okText","cancelText","hoverable","offsetBottom","scrollHeight","comments","avatar","content","e","console","log","CommentOutlined","baseURL","getALL","register","info","CreateAccount","setUsername","SetName","handleRegister","UserService","r","scrollToFirstError","whitespace","max","pattern","min","hasFeedback","Password","dependencies","getFieldValue","validator","rule","Promise","reject","resolve","valuePropName","_","href","addUsers","usersReducer","App","setUsers","modalState","isModalVisible","setIsModalVisible","matchUser","useRouteMatch","params","useEffect","loggedUserJSON","getItem","parse","usersService","allUsers","addBlog","blogObject","setBlogs","showNotifcation","padding","YahooOutlined","removeItem","maxWidth","footer","onCancel","className","marginBottom","path","addlike","lineHeight","height","verticalAlign","reducers","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.b678b619.chunk.js","sourcesContent":["import React from 'react'\nimport {useSelector} from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { List,Skeleton} from 'antd';\nimport {LikeOutlined} from '@ant-design/icons';\n\nconst Blog = () => {\n  \n const blogs=useSelector(state=>state.blogs)\n blogs.sort((a,b)=>(a.likes>b.likes?-1:1))\n \n return (\n   <div >\n     {blogs.length==0?\n     <Skeleton active paragraph={{ rows: 10 }}/>\n     :\n      <List\n    itemLayout=\"horizontal\"\n    dataSource={blogs}\n    renderItem={item => (\n      \n      <List.Item>\n        <List.Item.Meta\n          title={<Link to={`/blogs/${item.id}`} style={{marginLeft:'500px',fontSize:'20px',color:'rgb(92, 100, 164)'}}>{item.title}</Link>}\n          description={<div style={{marginLeft:'500px'}}><LikeOutlined /><span>{item.likes}</span></div>}\n        />\n      </List.Item>\n    )}\n  />}\n   </div>\n  \n )\n}\n  \nexport default Blog","import axios from \"axios\";\r\nconst baseurl='/api/login'\r\n\r\nconst login =async newObjcet=>{\r\n    const response=await axios.post(baseurl,newObjcet)\r\n    return response.data\r\n} \r\n\r\nexport default {login}","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create=async newObjcet=>{\n  const config={\n    headers:{Authorization:token}\n  }\n  const response=await axios.post(baseUrl,newObjcet,config)\n  return response.data\n}\nconst updateBlog = async blog => {\n  const header = {\n    headers: { Authorization: token }\n  }\n\n  const response = await axios.patch(`${baseUrl}/${blog.id}`,{ likes: blog.likes },header)\n  return response.data\n}\nconst removeBlog = async blog => {\n  const header  = {\n    headers: { Authorization: token }\n  }\n  await axios.delete(`${baseUrl}/${blog.id}`,header)\n}\n\nconst makeComment = async (comment,id) => {\n  const response = await axios.post(`${baseUrl}/${id}/comments`,{ comment })\n  return response.data\n}\nexport default { getAll ,create,setToken,updateBlog,removeBlog,makeComment}","const loggedUserReducer = (state = null,action) => {\r\n    switch(action.type){\r\n    case 'ADD_USER': {\r\n      return action.data.user\r\n    }\r\n    default: return state\r\n    }\r\n  }\r\n  \r\n  export const setLoggedUser = (user) => {\r\n    return {\r\n      type: 'ADD_USER',\r\n      data: {\r\n        user\r\n      }\r\n    }\r\n  }\r\n  \r\n  export default loggedUserReducer","import React from \"react\"\r\nimport { useState } from \"react\"\r\nimport { useDispatch} from 'react-redux'\r\nimport loginService from '../services/login'\r\nimport blogService from '../services/blogs'\r\nimport { setLoggedUser } from \"../reducer/loggedUserReducer\"\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport { Form, Input, Button,message } from 'antd';\r\nconst LoginForm=(props)=>{\r\n  const dispatch=useDispatch()\r\n  const [username,setUsersname]=useState('')\r\n  const [password,setPassword]=useState('')\r\n  const handleLogin=async()=>{\r\n    \r\n    try {\r\n      const user=await loginService.login({\r\n        username,password\r\n      })\r\n      window.localStorage.setItem(\r\n        'loggedBlogappUser',JSON.stringify(user)\r\n      )\r\n      blogService.setToken(user.token)\r\n      dispatch(setLoggedUser(user))\r\n      setUsersname('')\r\n      setPassword('')\r\n      message.success('登陆成功')\r\n      location.replace('/')\r\n      \r\n      \r\n    } catch (error) {\r\n      message.error('账号或密码错误')\r\n    }\r\n   \r\n  }\r\n    return(\r\n       <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        width: '100%',\r\n      }}\r\n    >\r\n      <Form\r\n        initialValues={{ remember: true }}\r\n        onFinish={handleLogin}\r\n        style={{ width: '100%', margin: '10px 14px' }}\r\n      >\r\n        <Form.Item\r\n          name=\"username\"\r\n          rules={[{ required: true, message: '请输入你的帐号' }]}\r\n        >\r\n          <Input\r\n            prefix={<UserOutlined/>}\r\n            placeholder=\"帐号\"\r\n            onChange={({target})=>{\r\n              setUsersname(target.value)\r\n            }}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"password\"\r\n          rules={[{ required: true, message: '请输入你的密码' }]}\r\n        >\r\n          <Input\r\n            prefix={<LockOutlined />}\r\n            type=\"password\"\r\n            placeholder=\"密码\"\r\n            onChange={({target})=>{\r\n              setPassword(target.value)\r\n            }}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            style={{backgroundColor:'rgb(92, 100, 164)',borderColor:'rgb(92, 100, 164)'}}\r\n          >\r\n            登录\r\n          </Button>\r\n          {'   '}或{' '}\r\n          <Button type=\"link\" onClick={() => props.setModalState('注册')} style={{color:'rgb(92, 100, 164)'}}>\r\n            现在注册\r\n          </Button>{' '}\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n     \r\n    )\r\n    \r\n  }\r\n\r\n  export default LoginForm","import React ,{useState}from \"react\";\r\nimport { Form, Input, Button,message } from 'antd';\r\nimport {EditOutlined,UserOutlined} from '@ant-design/icons';\r\nconst { TextArea } = Input;\r\nconst AddForm=({createBlog})=>{\r\n  const [title,setTitle]=useState('')\r\n  const [author,setAuthor]=useState('')\r\n  const [url,setUrl]=useState('')\r\n\r\n  const addBlog=()=>{\r\n    \r\n    createBlog(\r\n        {\r\n            title:title,\r\n            author:author,\r\n            url:url\r\n        }\r\n    ) \r\n    setTitle('')\r\n    setAuthor('')\r\n    setUrl('')\r\n    location.replace('/')\r\n    message.success('创建成功')\r\n  }\r\n    return(\r\n      <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        width: '100%',\r\n      }}\r\n    >\r\n      <Form\r\n        initialValues={{ remember: true }}\r\n         onFinish={addBlog}\r\n        style={{ width: '100%', margin: '10px 14px' }}\r\n      >\r\n        <Form.Item\r\n          name=\"title\"\r\n          rules={[{ required: true, message: '请输入标题' }]}\r\n        >\r\n          <Input\r\n            prefix={<EditOutlined />}\r\n            placeholder=\"标题\"\r\n            allowClear='true'\r\n            onChange={({target})=>{\r\n              setTitle(target.value)\r\n            }}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"author\"\r\n          rules={[{ required: true, message: '请输入文章作者' }]}\r\n        >\r\n          <Input\r\n            prefix={<UserOutlined />}\r\n            allowClear='true'\r\n            placeholder=\"作者(原创或转载）\"\r\n            onChange={({target})=>{\r\n              setAuthor(target.value)\r\n            }}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"content\"\r\n          rules={[{ required: true, message: '请输入文章内容' }]}\r\n        >\r\n         <TextArea \r\n         allowClear='true'\r\n         showCount='true'\r\n        autoSize={{minRows:5}}\r\n         placeholder=\"内容（转载请在文末附上原创链接）\"\r\n         onChange={({target})=>{\r\n           setUrl(target.value)\r\n         }}\r\n         rows={20}\r\n         />\r\n        </Form.Item>\r\n      <Button type=\"primary\" htmlType=\"submit\" style={{color:'white',backgroundColor:'rgb(92, 100, 164)'}}>创建</Button>\r\n      </Form>\r\n    </div>\r\n    )\r\n\r\n}\r\nexport default AddForm","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Button} from 'antd';\r\nconst Togglable = (props) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const hideWhenVisible = { display: visible ? 'none' : '' }\r\n  const showWhenVisible = { display: visible ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div style={hideWhenVisible}>\r\n        <Button onClick={toggleVisibility} style={{color:'white',backgroundColor:'rgb(92, 100, 164)'}}>{props.buttonLabel}</Button>\r\n      </div>\r\n      <div style={showWhenVisible}>\r\n        {props.children}\r\n        <Button onClick={toggleVisibility} style={{color:'white',backgroundColor:'rgb(92, 100, 164)',marginLeft:'14px'} }>取消</Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nTogglable.propTypes = {\r\n  buttonLabel: PropTypes.string.isRequired\r\n}\r\nexport default Togglable","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Table} from 'antd';\r\nconst Users=({users})=>{\r\nusers.forEach(x=>x.count=x.blogs.length)\r\nconst columns=[\r\n    {\r\n        title:'用户名',\r\n        dataIndex:'username',\r\n        render:text=>{\r\n            const a=users.filter(x=>x.username==text)\r\n            return(\r\n                    <Link to={`/users/${a[0].id}`}style={{fontSize:'20px',color:'rgb(92, 100, 164)'}}>{a[0].username}(点击查看用户所发博客)</Link>\r\n            )\r\n        }\r\n    },\r\n    {\r\n        title:'发博数',\r\n        dataIndex:'count',\r\n    },\r\n]\r\n\r\n    return(\r\n        <div>\r\n            \r\n            <h1 style={{textAlign:'center',color:'rgb(92, 100, 164)'}}>用户信息统计</h1>\r\n            <div >\r\n                <Table columns={columns} dataSource={users}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { List} from 'antd';\r\nconst User=({user})=>{ \r\n    if(!user){\r\n        return null\r\n    }\r\n    return (\r\n        \r\n        <div>\r\n             <h1 style={{textAlign:'center',color:'rgb(92, 100, 164)'}}>{user.username}</h1>\r\n            <List\r\n                itemLayout=\"horizontal\"\r\n                dataSource={user.blogs}\r\n                renderItem={item => (\r\n                \r\n                <List.Item>\r\n                    <List.Item.Meta\r\n                    title={<Link to={`/blogs/${item.id}`} style={{marginLeft:'500px',fontSize:'20px',color:'rgb(92, 100, 164)'}}>{item.title}</Link>}\r\n                    />\r\n                </List.Item>\r\n                )}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User","import blogService from '../services/blogs'\r\nconst blogReducer=(state=[],action)=>{\r\n    switch(action.type){\r\n        case 'INI_BLOG': {\r\n            return action.data.blogs\r\n          }\r\n          case 'ADD_BLOG': {\r\n            return [...state,action.data.blog]\r\n          }\r\n          case 'LIKE_BLOG':{\r\n            return state.map(blog => blog.id === action.data.id ? { ...blog,likes: action.data.likes } : blog )\r\n          }\r\n          case 'DELETE_BLOG':{\r\n           return state.filter(blog=>blog.id!==action.data.id)\r\n          }\r\n          case 'MAKE_COMMENT': {\r\n            return state.map(blog => blog.id === action.data.blog.id ? action.data.blog : blog )\r\n          }\r\n    default:return state\r\n    }\r\n}\r\n\r\nexport const initializeBlogs = () => {\r\n    return async dispatch => {\r\n      const blogs = await blogService.getAll()\r\n      dispatch({\r\n        type: 'INI_BLOG',\r\n        data: {\r\n          blogs\r\n        }\r\n      })\r\n    }\r\n  }\r\n  export const setBlogs = (blogObject) => {\r\n    return async dispatch => {\r\n      const blog = await blogService.create(blogObject)\r\n      dispatch({\r\n        type: 'ADD_BLOG',\r\n        data: {\r\n          blog\r\n        }\r\n      })\r\n    }\r\n  }\r\n  export const addlike=(id,likes)=>{\r\n    return async dispatch=>{\r\n      await blogService.updateBlog({\r\n        id,\r\n        likes\r\n      })\r\n\r\n      dispatch({\r\n        type:'LIKE_BLOG',\r\n        data:{\r\n          id,\r\n          likes\r\n        }\r\n      })\r\n    }\r\n  }\r\n  export const deleteBlog=(id)=>{\r\n    return async dispatch=>{\r\n      await blogService.removeBlog({\r\n        id\r\n      })\r\n      \r\n      dispatch({\r\n        type:'DELETE_BLOG',\r\n        data:{\r\n          id\r\n        }\r\n      })\r\n    }\r\n  }\r\n  export const makeComment = (comment,id) => {\r\n    return async dispatch => {\r\n      const blog = await blogService.makeComment(\r\n        comment,\r\n        id\r\n      )\r\n      dispatch({\r\n        type: 'MAKE_COMMENT',\r\n        data: {\r\n          blog\r\n        }\r\n      })\r\n    }\r\n  }\r\nexport default blogReducer","import React, { useState } from 'react'\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport { useParams } from 'react-router-dom'\r\nimport { makeComment } from '../reducer/blogReducer'\r\nimport { Button,Card,Comment ,List,Form,Input,message,Popconfirm,Affix} from 'antd';\r\nimport {LikeOutlined,CommentOutlined} from '@ant-design/icons';\r\nconst SingleBlog=({handleLikes,handleRemoving,loggedUser})=>{\r\n    const dispatch=useDispatch()\r\n    const blogs=useSelector(state=>state.blogs)\r\n    const id = useParams().id\r\n    const blog = blogs.find((blog) => blog.id === id)\r\n    const [comment,setComment]=useState('')\r\n    const handleComment=(e)=>{\r\n            if(loggedUser){\r\n                dispatch(makeComment(comment,blog.id))\r\n                setComment('')\r\n              console.log(e)\r\n            }\r\n            else\r\n            message.error('请先登录')\r\n            \r\n    }\r\n    if(!blog)\r\n    return null\r\n\r\n   \r\n    return(\r\n        <div>\r\n            <Affix offsetTop={0}>\r\n                <Button type=\"primary\" onClick={()=>document.body.scrollTop = document.documentElement.scrollTop = 700} style={{backgroundColor:'rgb(92, 100, 164)',borderColor:'rgb(92, 100, 164)'}}>\r\n                    顶部\r\n                </Button>\r\n            </Affix>\r\n            \r\n            <h1 style={{textAlign:'center',color:'rgb(92, 100, 164)'}}>{blog.title}</h1>\r\n            <div>\r\n                <Card bodyStyle={{whiteSpace:'pre-line'}} title={<div style={{color:'rgb(92, 100, 164)'}}>作者：{blog.author}<div>内容</div></div>} extra={<div>\r\n                    <span style={{marginRight:'10px'}}>\r\n                    <LikeOutlined style={{marginTop:'-5px',marginRight:'10px'}}/>{blog.likes}\r\n                    </span>\r\n                    <Button type=\"primary\" onClick={()=>handleLikes(blog.id,blog.likes)} style={{backgroundColor:'rgb(92, 100, 164)',borderColor:'rgb(92, 100, 164)'}}>\r\n                        点赞\r\n                    </Button>\r\n                    {loggedUser?.id===blog.user?<Popconfirm title=\"你确定要删除这个博客吗\" onConfirm={()=>handleRemoving(blog)} okText=\"是\" cancelText=\"否\"><Button>删除博客</Button></Popconfirm> :null}\r\n                </div>} hoverable='true'>\r\n                {blog.url}\r\n                </Card>\r\n                <Affix offsetBottom={0}>\r\n                <Button type=\"primary\" onClick={()=>document.body.scrollTop = document.documentElement.scrollTop = document.body.scrollHeight} style={{backgroundColor:'rgb(92, 100, 164)',borderColor:'rgb(92, 100, 164)'}}>\r\n                    顶部\r\n                </Button>\r\n            </Affix>\r\n            </div>\r\n            <h2 style={{textAlign:'center',color:'rgb(92, 100, 164)'}}>评论</h2>\r\n            <List\r\n                itemLayout=\"horizontal\"\r\n                 dataSource={blog?blog.comments.map(x=>({avatar:'https://joeschmoe.io/api/v1/random',content:(<p>{x}</p>)})):null}\r\n                renderItem={x=>(\r\n                    <li>\r\n                        <Comment\r\n                            avatar={x.avatar}\r\n                            content={x.content}\r\n                        />\r\n                    </li>\r\n                )}          \r\n            >\r\n            </List>\r\n            \r\n            <div\r\n                style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    width: '100%',\r\n                }}\r\n            >\r\n                <Form\r\n                    initialValues={{ remember: true }}\r\n                     onFinish={handleComment}\r\n                    style={{ width: '100%', margin: '10px 14px' }}\r\n                >\r\n                    <Form.Item\r\n                    name=\"title\"\r\n                    rules={[{ required: true, message: '请输入评论' }]}\r\n                    >\r\n                    <Input\r\n                        prefix={<CommentOutlined />}\r\n                        placeholder=\"评论\"\r\n                        id='comment'\r\n                        onChange={(e)=>setComment(e.target.value)}\r\n                    />\r\n                    </Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\" style={{color:'white',backgroundColor:'rgb(92, 100, 164)'}}>添加</Button>\r\n                </Form>\r\n            </div>\r\n            \r\n            \r\n        </div>\r\n    )\r\n}\r\nexport default SingleBlog","import axios from \"axios\";\r\nconst baseURL='/api/users'\r\n\r\nconst  getALL=async()=>{\r\n    const response=await axios.get(baseURL)\r\n    return response.data\r\n}\r\nconst register=async(info)=>{\r\n     const response=await axios.post(baseURL,info)\r\n     return response.data\r\n}\r\nexport default{\r\n    getALL,\r\n    register\r\n}","import React ,{useState}from \"react\"\r\nimport UserService from '../services/users'\r\nimport { Form, Input, Button,message,Checkbox } from 'antd';\r\nconst CreateAccount=(props)=>{\r\n    const [username,setUsername]=useState('')\r\n    const [name,SetName]=useState('')\r\n    const [password,setPassword]=useState('')\r\n\r\n    const handleRegister=async ()=>{\r\n        try{\r\n            const r=await UserService.register({username,name,password})\r\n            console.log(r)\r\n        setUsername('')\r\n        SetName('')\r\n        setPassword('')\r\n        message.success('注册成功')\r\n        props.setModalState('登录')\r\n        }\r\n        catch(error){\r\n        message.error('该账户已经被注册')\r\n        }\r\n        \r\n\r\n    }\r\n    return(\r\n      <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        width: '100%',\r\n      }}\r\n    >\r\n      <Form\r\n        onFinish={handleRegister}\r\n        scrollToFirstError\r\n        style={{ width: '100%', margin: '16px 20px' }}\r\n      >\r\n        <Form.Item\r\n          name=\"name\"\r\n          rules={[\r\n            { required: true, message: '请输入你的昵称', whitespace: true },\r\n            { max: 10, message: '请输入10位字符以内的昵称' },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"昵称\" onChange={({target})=>{\r\n            SetName(target.value)\r\n           }}/>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"username\"\r\n          rules={[\r\n            {\r\n              pattern: /\\w+$/,\r\n              message: '只能使用数字、字母和下划线组合',\r\n            },\r\n            { required: true, message: '请输入你的帐号', whitespace: true },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"帐号\" onChange={({target})=>{\r\n            setUsername(target.value)\r\n           }}/>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              min: 6,\r\n              message: '请输入大于5个字符的密码',\r\n            },\r\n            {\r\n              max: 20,\r\n              message: '请输入小于20个字符的密码',\r\n            },\r\n            {\r\n              required: true,\r\n              message: '请输入你的密码',\r\n            },\r\n          ]}\r\n          hasFeedback\r\n        >\r\n          <Input.Password placeholder=\"密码\"  onChange={({target})=>{\r\n            setPassword(target.value)\r\n           }}/ >\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"confirm\"\r\n          dependencies={['password']}\r\n          hasFeedback\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: '请确认你的密码',\r\n            },\r\n            ({ getFieldValue }) => ({\r\n              validator(rule, value) {\r\n                if (!value || getFieldValue('password') === value) {\r\n                  return Promise.resolve();\r\n                }\r\n                return Promise.reject('确认密码与密码不一致');\r\n              },\r\n            }),\r\n          ]}\r\n        >\r\n          <Input.Password placeholder=\"确认密码\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"agreement\"\r\n          valuePropName=\"checked\"\r\n          rules={[\r\n            {\r\n              validator: (_, value) =>\r\n                value ? Promise.resolve() : Promise.reject('请同意用户协议'),\r\n            },\r\n          ]}\r\n        >\r\n          <Checkbox>\r\n            我已经阅读并同意{' '}\r\n            <a\r\n              href=\"#\"\r\n              style={{color:'rgb(92, 100, 164)'}}\r\n            >\r\n              用户协议\r\n            </a>\r\n          </Checkbox>\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" style={{backgroundColor:'rgb(92, 100, 164)',borderColor:'rgb(92, 100, 164)'}}>\r\n            注册\r\n          </Button>{' '}\r\n          或\r\n          <Button type=\"link\" onClick={() => props.setModalState('登录')} style={{color:'rgb(92, 100, 164)'}}>\r\n            已经有帐号了？现在登录\r\n          </Button>{' '}\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n     \r\n    )\r\n}\r\n\r\nexport default CreateAccount","\r\nconst usersReducer = (state = [],action) => {\r\n    switch(action.type){\r\n    case 'ADD_USERS': {\r\n      return action.data.users\r\n    }\r\n    default: return state\r\n    }\r\n  }\r\n  \r\n  export const addUsers = (users) => {\r\n    return {\r\n      type: 'ADD_USERS',\r\n      data: {\r\n        users\r\n      }\r\n    }\r\n  }\r\n  \r\n  export default usersReducer","import React, { useState, useEffect } from 'react'\n\nimport Blog from './components/Blog'\nimport LoginForm from './components/LoginForm'\nimport AddForm from './components/addForm'\nimport Togglable from './components/Togglable'\nimport Users from './components/Users'\nimport User from './components/User'\nimport SingleBlog from './components/singleBlog'\nimport CreateAccount from './components/CreateAccount'\n\nimport blogService from './services/blogs'\nimport usersService from './services/users'\n\nimport { initializeBlogs,setBlogs,addlike,deleteBlog } from './reducer/blogReducer'\nimport { setLoggedUser } from './reducer/loggedUserReducer'\nimport { addUsers } from './reducer/usersReducer'\nimport { useDispatch, useSelector } from 'react-redux'\n\n\nimport { Switch, Route, useRouteMatch, Link } from 'react-router-dom'\n\nimport { Modal,Button,message} from 'antd';\nimport { YahooOutlined } from '@ant-design/icons';\n\nimport './App.css'\n\nconst App = () => {\n  const dispatch = useDispatch()\n\n  const loggedUser=useSelector(state=>state.loggedUser)\n  const [users,setUsers]=useState([])\n  const [modalState, setModalState] = useState('登录');\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleModalCancel = () => {\n    setIsModalVisible(false);\n    setModalState('登录'); // 回到登录状态\n  };\n\n  const matchUser = useRouteMatch('/users/:id')\n  const user = matchUser\n    ? users.find((user) => user.id === matchUser.params.id)\n    : null\n\n  useEffect(()=>{\n    dispatch(initializeBlogs())\n    const loggedUserJSON=window.localStorage.getItem('loggedBlogappUser')\n    if(loggedUserJSON)\n    {\n      const user=JSON.parse(loggedUserJSON)\n      dispatch(setLoggedUser(user))\n      blogService.setToken(user.token)\n    }\n    (async()=>{\n      const allUsers=await usersService.getALL()\n\n      dispatch(addUsers(allUsers))\n      setUsers(allUsers)\n    })()\n\n  },[dispatch])\n  \n  \n const loginout=()=>{\n   if(window.localStorage.getItem('loggedBlogappUser'))\n   {\n     window.localStorage.removeItem('loggedBlogappUser')\n     dispatch(setLoggedUser(null))\n    }\n    location.replace('/')\n\n }\n const addBlog=(blogObject,title)=>{\n        dispatch(setBlogs(blogObject))\n        dispatch(showNotifcation(`a new blog ${title} ! by ${loggedUser.username}`,'success'))    \n }\n\n const createBlog=()=>{\n  return(\n    <Togglable buttonLabel='创建新博客'>\n               <AddForm createBlog={addBlog} />\n    </Togglable>\n  )\n }\n const handleLikes = (id,likes) => {\n   if(loggedUser){\n    dispatch(addlike(id,likes+1))\n    message.success('点赞成功')\n   }\n  \n  else\n  message.error('请先登录')\n  \n}\nconst handleRemoving = async (blog) => {\n      dispatch(deleteBlog(blog.id))\n      message.success('删除成功')\n      location.replace('/')\n}\nconst padding = {\n  padding: 20,\n  color:'black',\n}\n\n\n  return (\n    <div >\n   {/* head */}\n      {loggedUser\n      ?\n      <div >\n      <YahooOutlined style={{fontSize:'70px',color:'#5c64a4'}}/>\n      <Link style={padding} to='/blogs'>博客</Link>\n      <Link style={padding} to='/users'>用户</Link>\n      <Link style={{padding:'20px',color:'black',marginLeft:'1100px'}} to={`/users/${loggedUser.id}`}>{loggedUser.username}</Link>\n      <a href='#' onClick={loginout} style={{color:'black',padding:'20px'}}>退出登录</a>\n      </div>\n      :\n      <div >\n        <YahooOutlined style={{fontSize:'70px',color:'#5c64a4'}}/>\n        <Link style={{marginLeft:'20px',fontSize:'14px',color:'black'}} to='/blogs'>博客</Link>\n        <Button type=\"text\" onClick={showModal} style={{marginLeft:'1300px'}}>\n        注册 | 登录\n        </Button>\n        \n      </div>\n    }\n  {/* content */}\n      <Modal\n        style={{ maxWidth: '400px', textAlign: 'center' }}\n        title={modalState}\n        visible={isModalVisible}\n        footer={false}\n        onCancel={handleModalCancel}\n      >\n        {modalState === '登录' && <LoginForm setModalState={setModalState} />}\n        {modalState === '注册' && <CreateAccount setModalState={setModalState} />}\n        \n      </Modal>\n      <div className='banner-bg'>\n      <div className='contect-container'>\n        <div className='contect-zone'>\n          <div className=\"welcome-contect\">欢迎</div>\n          <div className=\"title-contect\">来到yinjie77的博客系统</div>\n          <div className=\"subtitle-contect\">🏠分享学习资源—————共同学习与进步</div>\n        </div>\n        <div className=\"bg-images\"></div>\n      </div>\n    </div>\n     \n      \n         <div>\n         <div\n              style={{\n                fontSize: '32px',\n                textAlign: 'center',\n                color: '#5c64a4',\n                width:'100%',\n                marginBottom:'20px'\n              }}\n            >\n              博客\n          </div>\n          \n            <Switch>\n            <Route path=\"/users/:id\">\n              <User user={user} />\n            </Route>\n            <Route path='/users'>\n               <Users users={users} />\n            </Route>\n            <Route path='/blogs/:id'>\n          <SingleBlog handleLikes={handleLikes} handleRemoving={handleRemoving} loggedUser={loggedUser}/>\n            </Route>\n            <Route path='/'>\n            <Blog/>\n            {loggedUser?createBlog():null}\n            </Route>\n            </Switch>\n         </div> \n    {/*footer*/}\n    <div style={{ textAlign: 'center' ,lineHeight:'50px',backgroundColor:'rgba(239, 244, 250, 0.24)',color:'black',height:'100px',verticalAlign:'middle'}} >\n        yinjie77\n      <div>\n      <a\n          href=\"#\"\n          style={{ color: 'black' }}\n        >\n        QQ群-关于-联系我\n        </a>\n     </div>  \n    </div>\n    </div>\n   \n  )\n}\n\nexport default App","import thunk from 'redux-thunk'\r\nimport {composeWithDevTools} from 'redux-devtools-extension'\r\nimport {createStore,combineReducers,applyMiddleware} from 'redux'\r\nimport blogReducer from './reducer/blogReducer'\r\nimport loggedUserReducer from './reducer/loggedUserReducer'\r\nimport usersReducer from './reducer/usersReducer'\r\n\r\nconst reducers=combineReducers({\r\nblogs:blogReducer,\r\nloggedUser:loggedUserReducer,\r\nusers:usersReducer,\r\n})\r\n\r\nconst store=createStore(reducers,composeWithDevTools(applyMiddleware(thunk)))\r\n\r\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport 'antd/dist/antd.css';\nimport { BrowserRouter as Router } from 'react-router-dom'\nReactDOM.render(\n  <Router>\n      <Provider store={store}>\n      <App />\n      </Provider>\n  </Router>\n   ,\n    document.getElementById('root')\n  )\n  "],"sourceRoot":""}